{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":false,"canStar":true,"canDelete":true,"slug":"app-debug","url":"/d/c0be4e42-43fc-4f37-8e5f-f7d70f58284e/app-debug","expires":"0001-01-01T00:00:00Z","created":"2023-11-15T08:49:50Z","updated":"2024-02-09T11:20:54Z","updatedBy":"admin","createdBy":"admin","version":31,"hasAcl":false,"isFolder":false,"folderId":0,"folderUid":"","folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":true,"canEdit":true,"canDelete":true}}},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":3,"links":[],"liveNow":false,"panels":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"green","value":null},{"color":"orange","value":70},{"color":"red","value":85}]},"unit":"percentunit","unitScale":true},"overrides":[]},"gridPos":{"h":6,"w":4,"x":0,"y":0},"id":3,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto"},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"max(container_memory_usage_bytes{pod=~\"$App.*\"})/max(container_spec_memory_limit_bytes{pod=~\"$App.*\"})","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"Used","range":true,"refId":"A","useBackend":false}],"title":"Memory usage","type":"gauge"},{"datasource":{"type":"grafana-opensearch-datasource","uid":"ae732f43-47ae-4862-a3c2-5cbbd4347919"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unitScale":true},"overrides":[]},"gridPos":{"h":8,"w":20,"x":4,"y":0},"id":1,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"alias":"","bucketAggs":[{"field":"@timestamp","id":"1","settings":{"interval":"auto"},"type":"date_histogram"}],"datasource":{"type":"grafana-opensearch-datasource","uid":"ae732f43-47ae-4862-a3c2-5cbbd4347919"},"format":"table","hide":false,"luceneQueryType":"Metric","metrics":[{"id":"1","type":"count"}],"query":"On:\"$App\"","queryType":"lucene","refId":"A","timeField":"@timestamp"}],"title":"Log Counts","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unitScale":true},"overrides":[]},"gridPos":{"h":3,"w":4,"x":0,"y":6},"id":4,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"count(container_memory_max_usage_bytes{pod=~\"$App.*\"})","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"__auto","range":true,"refId":"A","useBackend":false}],"title":"Number of Pods","type":"stat"},{"datasource":{"type":"grafana-opensearch-datasource","uid":"ae732f43-47ae-4862-a3c2-5cbbd4347919"},"description":"","gridPos":{"h":8,"w":20,"x":4,"y":8},"id":2,"options":{"dedupStrategy":"none","enableLogDetails":true,"prettifyLogMessage":false,"showCommonLabels":false,"showLabels":false,"showTime":false,"sortOrder":"Descending","wrapLogMessage":true},"targets":[{"alias":"","bucketAggs":[{"field":"@timestamp","id":"2","settings":{"interval":"auto"},"type":"date_histogram"}],"datasource":{"type":"grafana-opensearch-datasource","uid":"ae732f43-47ae-4862-a3c2-5cbbd4347919"},"format":"table","hide":false,"luceneQueryType":"Metric","metrics":[{"hide":false,"id":"1","type":"logs"}],"query":"On:\"$App\"","queryType":"lucene","refId":"A","timeField":"@timestamp"}],"title":"Log lines","transformations":[{"id":"organize","options":{"excludeByName":{"On":true,"_id":true,"_index":true,"_source":false,"_type":false,"log":true,"logtag":false,"message":false},"indexByName":{},"renameByName":{}}}],"type":"logs"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unitScale":true},"overrides":[]},"gridPos":{"h":4,"w":4,"x":0,"y":9},"id":9,"options":{"colorMode":"value","graphMode":"area","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_pod_container_status_restarts_total{pod=~\"$App.*\"})","instant":false,"legendFormat":"__auto","range":true,"refId":"A"}],"title":"Pod restarts","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":6,"w":24,"x":0,"y":16},"id":5,"options":{"legend":{"calcs":["last"],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"container_memory_usage_bytes{pod=~\"$App.*\"}","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"max(kube_pod_container_resource_limits{pod=~\"$App.*\", unit=\"byte\"})","fullMetaSearch":false,"hide":false,"includeNullMetadata":true,"instant":false,"legendFormat":"Limit","range":true,"refId":"B","useBackend":false},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"max(kube_pod_container_resource_requests{pod=~\"$App.*\", unit=\"byte\"})","fullMetaSearch":false,"hide":false,"includeNullMetadata":true,"instant":false,"legendFormat":"Request","range":true,"refId":"C","useBackend":false}],"title":"Memory Usage per Pod","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"none","unitScale":true},"overrides":[]},"gridPos":{"h":6,"w":24,"x":0,"y":22},"id":6,"options":{"legend":{"calcs":["last"],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"container_cpu_load_average_10s{pod=~\"$App.*\"}","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"max(kube_pod_container_resource_limits{pod=~\"$App.*\", unit=\"core\"})","hide":false,"instant":false,"legendFormat":"Limit","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"max(kube_pod_container_resource_requests{pod=~\"$App.*\", unit=\"core\"})","hide":false,"instant":false,"legendFormat":"Request","range":true,"refId":"C"}],"title":"CPU Usage per Pod","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":5,"w":24,"x":0,"y":28},"id":7,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"rate(container_network_transmit_bytes_total{pod=~\"$App.*\"}[5m])","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false}],"title":"Sent Network Traffic By Pod","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":24,"x":0,"y":33},"id":8,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"disableTextWrap":false,"editorMode":"code","expr":"rate(container_network_receive_bytes_total{pod=~\"$App.*\"}[5m])","fullMetaSearch":false,"includeNullMetadata":true,"instant":false,"interval":"","legendFormat":"{{pod}}","range":true,"refId":"A","useBackend":false}],"title":"Received Network By Pod (5m)","type":"timeseries"}],"refresh":"","schemaVersion":39,"tags":[],"templating":{"list":[{"current":{"selected":true,"text":"cloud","value":"cloud"},"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"definition":"label_values(kube_deployment_metadata_generation,deployment)","hide":0,"includeAll":false,"multi":false,"name":"App","options":[],"query":{"qryType":1,"query":"label_values(kube_deployment_metadata_generation,deployment)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"now-24h","to":"now"},"timepicker":{},"timezone":"","title":"App Debug","uid":"c0be4e42-43fc-4f37-8e5f-f7d70f58284e","version":31,"weekStart":""}}