{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":false,"canStar":true,"canDelete":true,"slug":"kubernetes-cluster-overview","url":"/d/4jSUaZ6Zz/kubernetes-cluster-overview","expires":"0001-01-01T00:00:00Z","created":"2023-11-30T12:05:26Z","updated":"2024-02-12T07:09:16Z","updatedBy":"admin","createdBy":"admin","version":8,"hasAcl":false,"isFolder":false,"folderId":0,"folderUid":"","folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":"","annotationsPermissions":{"dashboard":{"canAdd":true,"canEdit":true,"canDelete":true},"organization":{"canAdd":true,"canEdit":true,"canDelete":true}}},"dashboard":{"annotations":{"list":[{"$$hashKey":"object:173","builtIn":1,"datasource":{"type":"datasource","uid":"grafana"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"description":"Overview of Kubernetes cluster-level metrics","editable":true,"fiscalYearStartMonth":0,"gnetId":12202,"graphTooltip":0,"id":10,"links":[],"liveNow":false,"panels":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"gridPos":{"h":4,"w":6,"x":0,"y":0},"id":6,"links":[],"options":{"code":{"language":"plaintext","showLineNumbers":false,"showMiniMap":false},"content":"\u003cdiv class=\"text-center\"\u003e\n  \u003cimg style=\"height:80px\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Kubernetes_logo_without_workmark.svg/1200px-Kubernetes_logo_without_workmark.svg.png\"\u003e\n  \u003ch2 style=\"padding-top:15px\"\u003e$k8s_version\u003c/h2\u003e\n\u003c/div\u003e","mode":"html"},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"expr":"sum(kube_pod_status_phase{phase=\"Running\"})","interval":"","legendFormat":"","refId":"A"}],"type":"text"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"decimals":2,"mappings":[],"max":100,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent","unitScale":true},"overrides":[]},"gridPos":{"h":4,"w":6,"x":6,"y":0},"id":14,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["mean"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto"},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_memory_working_set_bytes{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"})/sum(machine_memory_bytes{instance=~\"$cluster.*\"})*100","range":true,"refId":"A"}],"title":"Cluster Memory Usage","type":"gauge"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"decimals":2,"mappings":[],"max":100,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent","unitScale":true},"overrides":[]},"gridPos":{"h":4,"w":6,"x":12,"y":0},"id":15,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto"},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"}[5m]))/sum(machine_cpu_cores{instance=~\"$cluster.*\"})*100","range":true,"refId":"A"}],"title":"Cluster CPU Usage","type":"gauge"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"decimals":2,"mappings":[],"max":100,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent","unitScale":true},"overrides":[]},"gridPos":{"h":4,"w":6,"x":18,"y":0},"id":18,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["last"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":true,"sizing":"auto"},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_fs_usage_bytes{device=~\"^/dev/.*$\",id=\"/\",instance=~\"$cluster.*\"})/sum(container_fs_limit_bytes{device=~\"^/dev/.*$\",id=\"/\",instance=~\"$cluster.*\"})*100","range":true,"refId":"A"}],"title":"Cluster Disk Usage","type":"gauge"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"none","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":0,"y":4},"id":4,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"count(kube_node_spec_unschedulable{node=~\"$cluster.*\"}==0)","range":true,"refId":"A"}],"title":"Healthy Nodes","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"none","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":3,"y":4},"id":21,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"count(kube_node_spec_unschedulable{node=~\"$cluster.*\"}!=0) OR on() vector(0)","interval":"","range":true,"refId":"A"}],"title":"Unhealthy Nodes","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":2,"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":6,"y":4},"id":12,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_memory_working_set_bytes{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"})","range":true,"refId":"A"}],"title":"Used","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":2,"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":9,"y":4},"id":19,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(machine_memory_bytes{instance=~\"$cluster.*\"})","range":true,"refId":"A"}],"title":"Total","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":2,"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"cores","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":12,"y":4},"id":16,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"}[5m]))","range":true,"refId":"A"}],"title":"Used","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"cores","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":15,"y":4},"id":17,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(machine_cpu_cores{instance=~\"$cluster.*\"})","range":true,"refId":"A"}],"title":"Total","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":2,"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":18,"y":4},"id":20,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_fs_usage_bytes{device=~\"^/dev/.*$\",id=\"/\",instance=~\"$cluster.*\"})","range":true,"refId":"A"}],"title":"Used","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"decimals":2,"mappings":[{"options":{"match":"null","result":{"text":"N/A"}},"type":"special"}],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":2,"w":3,"x":21,"y":4},"id":11,"links":[],"maxDataPoints":100,"options":{"colorMode":"none","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.3.1","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_fs_limit_bytes{device=~\"^/dev/.*$\",id=\"/\",instance=~\"$cluster.*\"})","range":true,"refId":"A"}],"title":"Total","type":"stat"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"decimals":0,"mappings":[],"unit":"short","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":4,"x":0,"y":6},"id":24,"links":[],"maxDataPoints":3,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true,"values":["value"]},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_daemonset_status_number_unavailable{instance=~\"$cluster.*\"})","interval":"","legendFormat":"Failed","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"expr":"sum(kube_daemonset_status_number_available)","interval":"","legendFormat":"Running","refId":"B"}],"title":"Daemon Sets","type":"piechart"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"decimals":0,"mappings":[],"unit":"short","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":4,"x":5,"y":6},"id":25,"links":[],"maxDataPoints":3,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true,"values":["value"]},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"count(kube_deployment_created) - count(kube_deployment_status_replicas_available{instance=~\"$cluster.*\"})","interval":"","legendFormat":"Failed","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"expr":"count(kube_deployment_created)","interval":"","legendFormat":"Running","refId":"B"}],"title":"Deployments","type":"piechart"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"decimals":0,"mappings":[],"unit":"short","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":4,"x":10,"y":6},"id":26,"links":[],"maxDataPoints":3,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true,"values":["value"]},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_pod_status_phase{phase!=\"Running\",instance=~\"$cluster.*\"}) OR on() vector(0)","interval":"","legendFormat":"Failed","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"expr":"sum(kube_pod_status_phase{phase=\"Running\"})","interval":"","legendFormat":"Running","refId":"B"}],"title":"Pods","type":"piechart"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"decimals":0,"mappings":[],"unit":"short","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":4,"x":15,"y":6},"id":27,"links":[],"maxDataPoints":3,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true,"values":["value"]},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"count(kube_replicaset_created{instance=~\"$cluster.*\"}) - count(kube_replicaset_status_ready_replicas{instance=~\"$cluster.*\"})","interval":"","legendFormat":"Failed","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"expr":"count(kube_replicaset_created)","interval":"","legendFormat":"Running","refId":"B"}],"title":"Replica Sets","type":"piechart"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"decimals":0,"mappings":[],"unit":"short","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":4,"x":20,"y":6},"id":29,"links":[],"maxDataPoints":3,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true,"values":["value"]},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"count(kube_statefulset_created{instance=~\"$cluster.*\"}) - count(kube_statefulset_status_replicas_ready{instance=~\"$cluster.*\"})","interval":"","legendFormat":"Failed","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"expr":"count(kube_statefulset_created)","interval":"","legendFormat":"Running","refId":"B"}],"title":"Stateful Sets","type":"piechart"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":2,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"never","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":12,"x":0,"y":13},"id":30,"options":{"legend":{"calcs":["last"],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"10.2.2","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_memory_working_set_bytes{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"}) by (namespace)","instant":false,"interval":"1m","legendFormat":"{{namespace}}","refId":"A"}],"title":"Memory Usage","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":2,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"never","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"s","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":12,"x":12,"y":13},"id":2,"options":{"legend":{"calcs":["last"],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"10.2.2","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",namespace!=\"\",instance=~\"$cluster.*\"}[5m])) by (namespace)","instant":false,"interval":"1m","legendFormat":"{{namespace}}","refId":"A"}],"title":"CPU Usage (last 5 min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":2,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"never","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"bytes","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":12,"x":0,"y":20},"id":22,"options":{"legend":{"calcs":["last"],"displayMode":"list","placement":"bottom","showLegend":false},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"10.2.2","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_pod_container_resource_limits{unit=\"byte\"})","instant":false,"interval":"1m","legendFormat":"Limits","refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_pod_container_resource_requests{unit=\"byte\"})","hide":false,"instant":false,"interval":"1m","legendFormat":"Requests","refId":"B"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(container_memory_working_set_bytes{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"})","hide":false,"instant":false,"interval":"1m","legendFormat":"Usage","refId":"C"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(machine_memory_bytes{instance=~\"$cluster.*\"})","hide":false,"instant":false,"interval":"1m","legendFormat":"Total","refId":"D"}],"title":"Memory Requests/Limits","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":2,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"never","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"none","unitScale":true},"overrides":[]},"gridPos":{"h":7,"w":12,"x":12,"y":20},"id":31,"options":{"legend":{"calcs":["last"],"displayMode":"list","placement":"bottom","showLegend":false},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"10.2.2","targets":[{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_pod_container_resource_limits{unit=\"core\"})","instant":false,"interval":"1m","legendFormat":"Limit","refId":"A"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(kube_pod_container_resource_requests{unit=\"core\"})","hide":false,"instant":false,"interval":"1m","legendFormat":"Request","refId":"B"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(rate(container_cpu_usage_seconds_total{container_name!=\"POD\",image!=\"\",instance=~\"$cluster.*\"}[5m]))","hide":false,"instant":false,"interval":"1m","legendFormat":"Used (5m)","refId":"C"},{"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"editorMode":"code","expr":"sum(machine_cpu_cores{instance=~\"$cluster.*\"})","hide":false,"instant":false,"interval":"1m","legendFormat":"Total","refId":"D"}],"title":"CPU Requests/Limits","type":"timeseries"}],"refresh":"","schemaVersion":39,"tags":["kubernetes"],"templating":{"list":[{"current":{"selected":false,"text":"v1.26.3","value":"v1.26.3"},"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"definition":"label_values(kube_node_info, kubelet_version)","hide":2,"includeAll":false,"multi":false,"name":"k8s_version","options":[],"query":"label_values(kube_node_info, kubelet_version)","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tagsQuery":"","type":"query","useTags":false},{"current":{"selected":false,"text":"service","value":"service"},"datasource":{"type":"prometheus","uid":"f5976bf5-7c7a-4606-b2f5-311e2c9a02d9"},"definition":"label_values(kube_node_info,node)","hide":0,"includeAll":false,"label":"Cluster","multi":false,"name":"cluster","options":[],"query":{"qryType":1,"query":"label_values(kube_node_info,node)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":1,"regex":"/(?\u003cvalue\u003e[a-z]+).*/","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"now-24h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"Kubernetes - Cluster Overview","uid":"4jSUaZ6Zz","version":8,"weekStart":""}}